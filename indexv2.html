<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>The HTML5 Herald</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

  <link rel="stylesheet" href="css/styles.css?v=1.0">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <style>
    body{
      background: #ecf0f5;
    }
    .dashboard-header{
        text-align: center;
        color: rgba(0, 0, 0, 0.705);
        font-size: 1rem;
    }
    .dashboard-counters{
        width: 100%;
        display: flex;
    }
    .dashboard-counters .counter-div{
        flex:1;
        /* border: 10px solid gray; */
        margin:1rem;
        padding: 0.7rem;
        color: rgba(0, 0, 0, 0.562);
    }
    .dashboard-counters .number{
      font-size: 3rem;
    }
    .dashboard-counters .description{
        font-weight: bold;
    }
    .first-counter{
      background: #0aaef0;
      border-color: #19bef0!important;
    }
    .second-counter{
      background: #066FBf;

      border-color: #066FBf!important;
    }
    .last-counter{
      background: #689a99;
      border-color: #3ecbcb!important;

    }
    .dashboard-charts{
      width: 100%;
      display: flex;
    }
    
    .dashboard-charts > div{
      flex:1;
    }
    .right-charts{
      width:100%;
    }
    .left-chart{
      display: flex;
      align-items: center;
      overflow: hidden;
    }
    .left-chart > div{
      width: 100%;
      overflow: hidden;
    }
    .left-chart > .highcharts-container, .left-chart > svg {
      /* width: 100%!important; */
    }

    .bottom-charts, .top-charts{
      /* display:flex; */
      width:100%;
    }
    .bottom-charts{
      margin-top: -5px;
      position: relative;
    }
    .pentagon {
      left: 27%;
      width: 28.2%;
      top: -66px;
      height: 163px;
      position: absolute;
      /* width: 54px; */
      /* box-sizing: content-box; */
    }
    .pentagon-text {
      text-align: left;
      left: 6%;
      width: 19.2%;
      top: 18px;
      padding-top:0 !important;
      /* height: 140px; */
      position: absolute;
      /* width: 54px; */
      /* box-sizing: content-box; */
      font-weight: bold;
    }
    .pentagon-text ul{
        /* list-style-position: inside; */
        padding-left: 0;
    }
    .chart-label{
      padding: 4px!important;
      /* width: calc(91px + 10%); */
      height: 17px;
      font-weight: bold;
      line-height: 17px;
      color: white;
      position: absolute;
    }
    /* ['#35e400','#00b1e2','#fea900','#c2c2c2','#c732dd'] */
    .chart-label-1
    {
      background: #35e400;
      top: -26px;
      left: 0;
    }
    .chart-label-2
    {
      background: #00b1e2;
      top: -26px;
      left: 41.5%;
      text-align: right;
    }
    .chart-label-3
    {
      background: #c732dd;
      top: 0px;
      left: 52%;
      text-align: right;
    }
    .chart-label-4
    {
      background: #939393;
      top: 0;
      left: 31%;
      /* width: calc(0px + 12%); */
      text-align: center;
    }
    .chart-label-5
    {
      background: #fea900;
      top: -1px;
      left: 0;
      text-align: left;
    }
    .bottom-charts > div, .top-charts > div {
      display: inline-block;
      /* border: none!important; */
      margin: 0 -2px;
      padding: none!important;
    }

    .top-charts > div{
      padding-bottom: 3rem;
    }
    .bottom-charts > div{
      padding-top: 3rem;
    }
    .right-charts #right-upper-container{
      width:58.5%;
      background: #c6dbf6;
    }
    .right-charts #left-upper-container{
      width:41.5%;
      background: #eaf4d6;
    }

    .right-charts #right-bottom-container{
      background: #f1daef;
      width:48%;
    }
    .right-charts #middle-bottom-container{
    
    }
    .right-charts .middle-bottom-container-wrap{
      width: 21%;
      background: #f2f2f2;
      /* margin-top: 1rem; */
      /* border-top:1rem solid white; */
    }
    .right-charts #left-bottom-container{
      width:31%;
      background: #fdfcd1;
    }
    .chart-popup-bg{
        display: none;
        position: absolute;
        top:0;
        left:0;
        width: 100%;
        height: 100%;
        background-color: rgba(128, 128, 128, 0.3);
    }
    .chart-popup-bg.show{
        display: unset;
    }
    .chart-popup-content{
        position: absolute;
        width: 800px;
        height: 600px;
        background: white;
        top:calc(50vh - 400px);
        left:calc(50vw - 400px);
    }
    #popup-chart-container{
        width: 100%;
        height: 100%;
    }
  
  
  
  
  </style>



</head>

<body>
  <script src="highcharts/code/highcharts.js"></script>
  <script src="highcharts/code/modules/sankey.js"></script>
  <script src="highcharts/code/modules/exporting.js"></script>
  <script src="highcharts/code/modules/data.js"></script>
  <script src="highcharts/code/modules/drilldown.js"></script>
  <script src="highcharts/code/modules/export-data.js"></script>
  <script src="highcharts/code/modules/accessibility.js"></script>


  
  <div class="dashboard-header">
      <h4 class="dashboard-title">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Volutpat diam ut venenatis tellus in metus vulputate. Sagittis nisl rhoncus mattis rhoncus urna neque viverra. Donec enim diam vulputate ut pharetra sit. Ipsum a arcu cursus vitae congue mauris rhoncus aenean vel. Sed risus pretium quam vulputate dignissim. Duis at tellus at urna condimentum mattis. Venenatis tellus in metus vulputate eu scelerisque felis imperdiet proin. In aliquam sem fringilla ut morbi. Enim facilisis gravida neque convallis a cras semper. Eu nisl nunc mi ipsum faucibus vitae aliquet nec ullamcorper. Nisl nisi scelerisque eu ultrices vitae. Volutpat est velit egestas dui id ornare arcu odio. Id donec ultrices tincidunt arcu non sodales. Ut faucibus pulvinar elementum integer enim neque volutpat ac tincidunt. Leo integer malesuada nunc vel risus commodo viverra maecenas accumsan. A lacus vestibulum sed arcu non odio. Id interdum velit laoreet id donec ultrices. Facilisis gravida neque convallis a cras semper auctor neque.</h4>
  </div>
  <div class="dashboard-counters">
    <div class="counter-div">
      <div class="number">4,292</div>
      <div class="description">Number of parents & families engaged</div>
    </div>
    <div class="counter-div">
      <div class="number">84</div>
      <div class="description">Number of events, programs, activities</div>
    </div>
    <div class="counter-div">
      <div class="number">10</div>
      <div class="description">Number of coalitions participated</div>
    </div>
  </div>


  
  <div class="dashboard-charts">
      <div class="left-chart">
          <div id="left-chart-container"></div>
        </div>
        <div class="right-charts">
            <div class="top-charts" style="position: relative;">
                <div id="left-upper-container"></div>
                <div id="right-upper-container"></div>
                <div class="pentagon-text"> 
                    Jun-Oct 2019
                </div>
            </div>
            <div class="bottom-charts">
                <div id="left-bottom-container"></div>
                <div class="middle-bottom-container-wrap">
                    <div id="middle-bottom-container"></div></div>
                    <div id="right-bottom-container"></div>
                    <div class="chart-label chart-label-1">Service</div>
                    <div class="chart-label chart-label-2">Connection</div>
                    <div class="chart-label chart-label-3">Knowledge</div>
                    <div class="chart-label chart-label-4">Leadership</div>
                    <div class="chart-label chart-label-5">Communication</div>
                    <!-- <svg class="pentagon" width="200" height="100" viewBox="0 0 200 100" preserveAspectRatio="none">
                        <polygon points="0,40 100,0 200,40 175,100 28,100" 
                        style="fill:white;stroke:white;stroke-width:0;width:100%;width:100%" />
                    </svg> -->
                </div>
            </div>
        </div> 
        <div class="chart-popup-bg">
            <div class="chart-popup-content">
                <!-- title? -->
                <div id="popup-chart-container"></div>
            </div>
        </div>

        
        
        
  <!--For left sankey diagram-->
    <script type="text/javascript">

    var custom_formatter_for_series = function() {
            total = this.series.processedYData.reduce((a, b) => a + b, 0)
            console.log(this)
            // console.log(this.series.nodes["0"])
            // console.log(this.series.nodes.filter((item)=>{return item.id == this.from})[0].sum)
            total_sum = (this.series.nodes.filter((item)=>{return item.id == this.from})[0].sum)
            var pcnt = (this.weight / total_sum) * 100;
            return "<span style=\"color:"+this.color+"\">●</span><b> "+this.name+": "+this.weight+"</b>  ("+Highcharts.numberFormat(pcnt)+"% of "+ this.from +")<br/>" ;
        }
        
    var chart_colors=['#35e400','#00b1e2','#fea900','#939393','#c732dd']

    Highcharts.chart('left-chart-container', {
        exporting:{
          enabled: false
        },
        chart:{
          height: '750px',
          // width: '1100px',
          backgroundColor: 'transparent',
          plotBackgroundColor: "transparent",
        },
        title: {
            text: null
        },
        // tooltip:{
        //     pointFormat: "<b>{point.name}</b> ({point.weight})<br/>",
        //     headerFormat: ""
        // },
        tooltip:{
            headerFormat: "{point.name}",
            // pointFormat: "<span style=\"color:{point.color}\">●</span> {series.name}: <b>{point.y} {point.total}%</b><br/>",
            pointFormatter: custom_formatter_for_series
        },
        series: [{
            dataLabels:{
                // borderColor: 'black',
                // borderWidth: 10,
                padding: 0,
            },
            nodeWidth: 140,
            nodePadding: 3,
            // colorByPoint: false,
            colors: ["#ffffff"],
            //colorAxis: 3,
            keys: ['from', 'to', 'weight', 'color','name'],
            data: [
                ['Communication', 'Celebration', 30, chart_colors[4],'Communication'],
                ['Communication', 'Celebration', 20, chart_colors[4],'Communication'],
                ['Communication', 'Fundraising', 75, chart_colors[4],'Communication'],
                ['Connection', 'Community Conversation', 9, chart_colors[1],'Connection'],
                ['Connection', 'Community Conversation', 45, chart_colors[1],'Connection'],
                ['Connection', 'Community Conversation', 384, chart_colors[1],'Connection'],
                ['Connection', 'Community Outreach', 125, chart_colors[1],'Connection'],
                ['Connection', 'Family Event Outreach', 53, chart_colors[1],'Connection'],
                ['Connection', 'Family Event Outreach', 287, chart_colors[1],'Connection'],
                ['Connection', 'Family Event Outreach', 200, chart_colors[1],'Connection'],
                ['Connection', 'Outreach', 26, chart_colors[1],'Connection'],
                ['Connection', 'Outreach', 29, chart_colors[1],'Connection'],
                ['Connection', 'Outreach', 6, chart_colors[1],'Connection'],
                ['Connection', 'Outreach', 587, chart_colors[1],'Connection'],
                ['Connection', 'Recruitment & Referral', 7, chart_colors[1],'Connection'],
                ['Connection', 'Recruitment & Referral', 20, chart_colors[1],'Connection'],
                ['Connection', 'Recruitment & Referral', 40, chart_colors[1],'Connection'],
                ['Connection', 'Recruitment & Referral', 54, chart_colors[1],'Connection'],
                ['Knowledge', 'Community Education', 53, chart_colors[2],'Knowledge'],
                ['Knowledge', 'Community Education', 47, chart_colors[2],'Knowledge'],
                ['Knowledge', 'Conference', 82, chart_colors[2],'Knowledge'],
                ['Knowledge', 'Provider Meeting', 75, chart_colors[2],'Knowledge'],
                ['Knowledge', 'Provider Meeting', 256, chart_colors[2],'Knowledge'],
                ['Knowledge', 'Training & Workshop', 140, chart_colors[2],'Knowledge'],
                ['Knowledge', 'Training & Workshop', 43, chart_colors[2],'Knowledge'],
                ['Knowledge', 'Training & Workshop', 21, chart_colors[2],'Knowledge'],
                ['Knowledge', 'Training & Workshop', 579, chart_colors[2],'Knowledge'],
                ['Leadership', 'Decision Making', 26, chart_colors[3],'Leadership'],
                ['Leadership', 'Decision Making', 84, chart_colors[3],'Leadership'],
                ['Leadership', 'Volunteering', 94, chart_colors[3],'Leadership'],
                ['Service', 'Program', 426, chart_colors[0],'Service'],
                ['Service', 'Program', 12, chart_colors[0],'Service'],
                ['Service', 'Service Navigation', 350, chart_colors[0],'Service'],
                ['Service', 'Service Navigation', 7, chart_colors[0],'Service'],
                ['Volunteering', 'Parents', 94, chart_colors[3],'Leadership'],
                ['Decision Making', 'Parents', 84, chart_colors[3],'Leadership'],
                ['Celebration', 'Parents', 30, chart_colors[4],'Communication'],
                ['Celebration', 'Participants', 20, chart_colors[4],'Communication'],
                ['Fundraising', 'Participants', 75, chart_colors[4],'Communication'],
                ['Community Conversation', 'Parents', 9, chart_colors[1],'Connection'],
                ['Community Conversation', 'Parents & Families', 45, chart_colors[1],'Connection'],
                ['Community Conversation', 'Participants', 384, chart_colors[1],'Connection'],
                ['Community Outreach', 'Participants', 125, chart_colors[1],'Connection'],
                ['Outreach', 'Families', 26, chart_colors[1],'Connection'],
                ['Outreach', 'Parents', 29, chart_colors[1],'Connection'],
                ['Outreach', 'Parents & Families', 6, chart_colors[1],'Connection'],
                ['Outreach', 'Participants', 587, chart_colors[1],'Connection'],
                ['Family Event Outreach', 'Participants', 200, chart_colors[1],'Connection'],
                ['Family Event Outreach', 'Parents & Families', 287, chart_colors[1],'Connection'],
                ['Family Event Outreach', 'Families', 53, chart_colors[1],'Connection'],
                ['Recruitment & Referral', 'Families', 7, chart_colors[1],'Connection'],
                ['Recruitment & Referral', 'Parents', 20, chart_colors[1],'Connection'],
                ['Recruitment & Referral', 'Parents & Families', 40, chart_colors[1],'Connection'],
                ['Recruitment & Referral', 'Participants', 54, chart_colors[1],'Connection'],
                ['Community Education', 'Parents', 53, chart_colors[2],'Knowledge'],
                ['Community Education', 'Participants', 47, chart_colors[2],'Knowledge'],
                ['Conference', 'Participants', 82, chart_colors[2],'Knowledge'],
                ['Training & Workshop', 'Parents', 43, chart_colors[2],'Knowledge'],
                ['Training & Workshop', 'Participants', 579, chart_colors[2],'Knowledge'],
                ['Training & Workshop', 'Grandparents', 140, chart_colors[2],'Knowledge'],
                ['Training & Workshop', 'Parents & Families', 21, chart_colors[2],'Knowledge'],
                ['Provider Meeting', 'Families', 256, chart_colors[2],'Knowledge'],
                ['Provider Meeting', 'Direct Service Providers', 75, chart_colors[2],'Knowledge'],
                ['Decision Making', 'Families', 26, chart_colors[3],'Leadership'],
                ['Program', 'Families', 426, chart_colors[0],'Service'],
                ['Program', 'Parents', 12, chart_colors[0],'Service'],
                ['Service Navigation', 'Families', 350, chart_colors[0],'Service'],
                ['Service Navigation', 'Parents', 7, chart_colors[0],'Service'],
            
            ],
            type: 'sankey',
            //name: 'Sankey demo series'
        }]
    });
  </script>


  <!--config-->
  <script>
    var custom_formatter_for_series = function() {
        total = this.series.processedYData.reduce((a, b) => a + b, 0)
        console.log(this)
        var pcnt = (this.y / total) * 100;
        return "<span style=\"color:"+this.color+"\">●</span><b> "+this.name+": "+this.y+"</b>  ("+Highcharts.numberFormat(pcnt)+"% of Total "+ this.series.name +")<br/>" ;
    }
    var bar_chart_config={
        exporting:{
          enabled: false
        },
        chart: {
            type: 'column',
            backgroundColor: 'transparent',
            plotBackgroundColor: "transparent",
            height: '340px',
        },
        title: {
            text: null
        },
        subtitle: {
            text: null //'Click the columns to view versions. Source: <a href="http://statcounter.com" target="_blank">statcounter.com</a>'
        },
        accessibility: {
            announceNewData: {
                enabled: true
            }
        },
        xAxis: {
            type: 'category',
            labels: {
              autoRotationLimit: 0
            }
        },
        yAxis: {
            min: 0,
            max: 1000,
            minRange: 1000,
            title: {
                text: null,
            },
            labels:{
              enabled: false
            },
            gridLineWidth: 0,
            
            
        },
        legend: {
            enabled: false
        },
        plotOptions: {
            series: {
                borderWidth: 0,
                dataLabels: {
                    enabled: true,
                    format: '{point.y}'
                },
                // point: {
                //     events: {
                //         click: function () {
                //             console.log(this)
                //             alert('Category: ' + this.category + ', value: ' + this.y);
                //         }
                //     }
                // }
            }
        },
        
        tooltip: {
            headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
            pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}%</b> of total<br/>'
        }
      }
    var upper_left_chart_series=[
        {
            name: "Service",
            maxPointWidth: 35,
            tooltip:{
                        headerFormat: "{point.name}",
                        // pointFormat: "<span style=\"color:{point.color}\">●</span> {series.name}: <b>{point.y} {point.total}%</b><br/>",
                        pointFormatter: custom_formatter_for_series
                      },
            // colorByPoint: true,
            data: [
                {
                    name: "Program",
                    y: 438,
                    drilldown: "Program"
                },
                {
                    name: "Service Navigation",
                    y: 357,
                    drilldown: "Service Navigation"
                }
            ],
            color: {
                    linearGradient: {
                      x1: 0,
                      x2: 0,
                      y1: 0,
                      y2: 1
                    },
                    stops: [
                      [0, chart_colors[0]],
                      [1, chart_colors[0]],
                    ]
                  },
                  shadow:false,
        }
    ];
    var upper_left_bar_chart_data={
              series: [
                  {
                      name: "Program",
                      id: "Program",
                      data: [
                          [
                              "5 active early childhood programs",
                              300
                          ],
                          [
                              "Follow-up services to families",
                              105
                          ],
                          [
                              "Scholarship enrollment",
                              10
                          ],
                          [
                              "Countdown to Kindergarten - home visits",
                              9
                          ],
                          [
                              "Preschool children/families that received MH consultation services",
                              7
                          ],
                          [
                              "DOULA home visiting",
                              5
                          ],
                          [
                              "Tent",
                              2
                          ]
                      ]
                  },
                  {
                      name: "Service Navigation",
                      id: "Service Navigation",
                      data: [
                          [
                              "Helping families find support they need",
                              350
                          ],
                          [
                              "WIC prescreening",
                              7
                          ]
                      ]
                  }
              ]
          };
    var upper_right_chart_series=[
              {
                  name: "Connection",
                  maxPointWidth: 35,
                  tooltip:{
                        headerFormat: "{point.name}",
                        // pointFormat: "<span style=\"color:{point.color}\">●</span> {series.name}: <b>{point.y} {point.total}%</b><br/>",
                        pointFormatter: custom_formatter_for_series
                      },
                  // colorByPoint: true,
                  data: [
                      {
                          name: "Community Conversation",
                          y: 438,
                          drilldown: "Community Conversation"
                      },
                      {
                          name: "Family Event Outreach",
                          y: 540,
                          drilldown: "Family Event Outreach"
                      },
                      {
                          name: "Outreach",
                          y: 773,
                          drilldown: "Outreach"
                      },
                      {
                          name: "Recruitment & Referral",
                          y: 121,
                          drilldown: "Recruitment & Referral"
                      }
                  ],
                  color: {
                    linearGradient: {
                      x1: 0,
                      x2: 0,
                      y1: 0,
                      y2: 1
                    },
                    stops: [
                      [0, chart_colors[1]],
                      [1, chart_colors[1]],
                    ]
                  },
                  shadow:false,
              }
          ];
    var upper_right_bar_chart_data={
              series: [
                  {
                      name: "Community Conversation",
                      id: "Community Conversation",
                      data: [
                          [
                              "Advocacy efforts meeting",
                              9
                          ],
                          [
                              "Share and Connect - community conversation",
                              45
                          ],
                          [
                              "Community engagement meetings",
                              143
                          ],
                          [
                              "Transformation dinner",
                              26
                          ],
                          [
                              "Early Childhood Community Conversations",
                              23
                          ],
                          [
                              "Community conversation on Mental Health",
                              9
                          ],
                          [
                              "2 community conversations",
                              132
                          ],
                          [
                              "Town hall meeting & conversation",
                              51
                          ]
                      ]
                  },
                  {
                      name: "Family Event Outreach",
                      id: "Family Event Outreach",
                      data: [
                          [
                              "HooTenanny Owl Music Festival",
                              19
                          ],
                          [
                              "Childrens Drumming at Deming Library",
                              8
                          ],
                          [
                              "Pow Wow social event",
                              26
                          ],
                          [
                              "Bufferfly pavillion",
                              32
                          ],
                          [
                              "Camp",
                              47
                          ],
                          [
                              "Art museum",
                              5
                          ],
                          [
                              "Library event",
                              50
                          ],
                          [
                              "Children's museum",
                              18
                          ],
                          [
                              "Zoo",
                              40
                          ],
                          [
                              "Museum of science",
                              34
                          ],
                          [
                              "Daddy J'S Campground",
                              61
                          ],
                          [
                              "Father's Day event",
                              25
                          ],
                          [
                              "Picnic",
                              120
                          ],
                          [
                              "Ice cream social at elementary schools",
                              25
                          ],
                          [
                              "Ferndale Music Night",
                              4
                          ],
                          [
                              "Birchwood International Market",
                              26
                          ]
                      ]
                  },
                  {
                      name: "Outreach",
                      id: "Outreach",
                      data: [
                          [
                              "Connecting with families",
                              21
                          ],
                          [
                              "Sikh Temple",
                              5
                          ],
                          [
                              "Community engagement",
                              29
                          ],
                          [
                              "Head start coffee",
                              6
                          ],
                          [
                              "Engaging with participants of MAMA Project",
                              11
                          ],
                          [
                              "Breastfeeding fair",
                              200
                          ],
                          [
                              "Head start table",
                              200
                          ],
                          [
                              "Outreach for the Community Solutions Fund",
                              125
                          ],
                          [
                              "Outreach (Health Fare) (Cada Paso)",
                              50
                          ],
                          [
                              "Community outreach (Walk in the community)",
                              75
                          ],
                          [
                              "Cainhoy Community - Meet the teacher outreach event",
                              25
                          ],
                          [
                              "Mommy & Me Parenting Support Group",
                              14
                          ],
                          [
                              "Threading Connections",
                              12
                          ]
                      ]
                  },
                  {
                      name: "Recruitment & Referral",
                      id: "Recruitment & Referral",
                      data: [
                          [
                              "Doula recruitment",
                              3
                          ],
                          [
                              "Doula recruitment",
                              4
                          ],
                          [
                              "Parent engagement for cohort",
                              20
                          ],
                          [
                              "Parents/families outreached or referred",
                              40
                          ],
                          [
                              "Stakeholder and parent breakfast to recruit ambassadors for trauma informed care for early childhood",
                              54
                          ]
                      ]
                  }
              ]
          };
    var bottom_left_chart_series=[
              {
                  name: "Communication",
                  maxPointWidth: 35,
                  tooltip:{
                        headerFormat: "{point.name}",
                        // pointFormat: "<span style=\"color:{point.color}\">●</span> {series.name}: <b>{point.y} {point.total}%</b><br/>",
                        pointFormatter: custom_formatter_for_series
                      },
                  // colorByPoint: true,
                  data: [
                      {
                          name: "Celebration",
                          y: 438,
                          drilldown: "Celebration"
                      },
                      {
                          name: "Fundraising",
                          y: 540,
                          drilldown: "Fundraising"
                      }
                  ],
                  color: {
                    linearGradient: {
                      x1: 0,
                      x2: 0,
                      y1: 0,
                      y2: 1
                    },
                    stops: [
                      [0, chart_colors[2]],
                      [1, chart_colors[2]],
                    ]
                  },
                  shadow:false,
              }
          ];
    var bottom_left_bar_chart_data={
              series: [
                  {
                      name: "Celebration",
                      id: "Celebration",
                      data: [
                          [
                              "Recognition of nursing certifications, volunteers, families",
                              30
                          ],
                          [
                              "Community Solutions Fund passed into legislation",
                              20
                          ]
                      ]
                  },
                  {
                      name: "Fundraising",
                      id: "Fundraising",
                      data: [
                          [
                              "Back to school event",
                              75
                          ]
                      ]
                  }
              ]
          };
    var bottom_middle_chart_series=[
              {
                  name: "Leadership",
                  maxPointWidth: 35,
                  tooltip:{
                        headerFormat: "{point.name}",
                        // pointFormat: "<span style=\"color:{point.color}\">●</span> {series.name}: <b>{point.y} {point.total}%</b><br/>",
                        pointFormatter: custom_formatter_for_series
                      },
                  // colorByPoint: true,
                  data: [
                      {
                          name: "Decision Making",
                          y: 438,
                          drilldown: "Decision Making"
                      },
                      {
                          name: "Volunteering",
                          y: 540,
                          drilldown: "Volunteering"
                      }
                  ],
                  color: {
                    linearGradient: {
                      x1: 0,
                      x2: 0,
                      y1: 0,
                      y2: 1
                    },
                    stops: [
                      [0, chart_colors[3]],
                      [1, chart_colors[3]],
                      
                    ]
                  },
                  shadow:false,
              }
          ];
    var bottom_middle_bar_chart_data={
              series: [
                  {
                      name: "Decision Making",
                      id: "Decision Making",
                      data: [
                          [
                              "Provided feedback on playgound",
                              6
                          ],
                          [
                              "Engagement with the leaders in the community",
                              6
                          ],
                          [
                              "Family council gathering",
                              14
                          ],
                          [
                              "Monthly meeting",
                              84
                          ]
                      ]
                  },
                  {
                      name: "Volunteering",
                      id: "Volunteering",
                      data: [
                          [
                              "Parents who volunteered",
                              77
                          ],
                          [
                              "Stakeholder and parent breakfast",
                              12
                          ],
                          [
                              "Back to school event",
                              5
                          ]
                      ]
                  }
              ]
          };
    var bottom_right_chart_series=[
              {
                  name: "Knowledge",
                  maxPointWidth: 35,
                  tooltip:{
                        headerFormat: "{point.name}",
                        // pointFormat: "<span style=\"color:{point.color}\">●</span> {series.name}: <b>{point.y} {point.total}%</b><br/>",
                        pointFormatter: custom_formatter_for_series
                      },
                  // colorByPoint: true,
                  data: [
                      {
                          name: "Community Education",
                          y: 100,
                          drilldown: "Community Education"
                      },
                      {
                          name: "Conference",
                          y: 82,
                          drilldown: "Conference"
                      },
                      {
                          name: "Provider Meeting",
                          y: 331,
                          drilldown: "Provider Meeting"
                      },
                      {
                          name: "Training & Workshop",
                          y: 783,
                          drilldown: "Training & Workshop"
                      }
                  ],
                  color: {
                    linearGradient: {
                      x1: 0,
                      x2: 0,
                      y1: 0,
                      y2: 1
                    },
                    stops: [
                      [0, chart_colors[4]],
                      [1, chart_colors[4]],
                    ]
                  },
                  shadow:false,
              }
          ];
    var bottom_right_bar_chart_data={
              series: [
                  {
                      name: "Community Education",
                      id: "Community Education",
                      data: [
                          [
                              "Chocolate Milk Screening",
                              3
                          ],
                          [
                              "2 school tours",
                              50
                          ],
                          [
                              "Social justice storytime",
                              10
                          ],
                          [
                              "Indaba to address historical trauma of slavery on children today",
                              37
                          ]
                      ]
                  },
                  {
                      name: "Conference",
                      id: "Conference",
                      data: [
                          [
                              "Breastfeeding Panel",
                              22
                          ],
                          [
                              "Conference presentation",
                              60
                          ]
                      ]
                  },
                  {
                      name: "Provider Meeting",
                      id: "Provider Meeting",
                      data: [
                          [
                              "Convenings to discuss best practices for engaging families",
                              75
                          ],
                          [
                              "Coaches and Workforce Development Specialists",
                              256
                          ]
                      ]
                  },
                  {
                      name: "Training & Workshop",
                      id: "Training & Workshop",
                      data: [
                          [
                              "Grandparents Forum on ACEs",
                              140
                          ],
                          [
                              "Community leadership training",
                              18
                          ],
                          [
                              "First Aid Mental Health 8-hour certification in mental health",
                              25
                          ],
                          [
                              "Lactation Counselors",
                              10
                          ],
                          [
                              "Share and Connect Facilitation Training",
                              5
                          ],
                          [
                              "Protect yourself",
                              6
                          ],
                          [
                              "Advocacy training",
                              15
                          ],
                          [
                              "Ambassador Orientation",
                              20
                          ],
                          [
                              "Webinar: ÒTrauma-Informed CareÓ series",
                              117
                          ],
                          [
                              "Newark Public School, Family Engagement Seminar, Training of Family Service Workers",
                              150
                          ],
                          [
                              "Keeping Babies and Children in Mind",
                              30
                          ],
                          [
                              "Teen Parents and Stakeholders",
                              55
                          ],
                          [
                              "Philadelphia Health Federation Collaborative ACEs/Trauma Meeting",
                              42
                          ],
                          [
                              "4 Workshops (academic related 3-k pre-k)",
                              100
                          ],
                          [
                              "2 Leadership trainings for LIFE parents (Presenter from Manhattan together)",
                              50
                          ]
                      ]
                  }
              ]
          };

          function generate_series_from_data(data, data_name,color){
                selected_data=data.series.filter((item)=>{return item.name == data_name})[0]
                series = {
                        name: data_name,
                        maxPointWidth: 35,
                        tooltip:{
                                headerFormat: "{point.name}",
                                // pointFormat: "<span style=\"color:{point.color}\">●</span> {series.name}: <b>{point.y} {point.total}%</b><br/>",
                                pointFormatter: custom_formatter_for_series
                            },
                        // colorByPoint: true,
                        data: [],
                        color: {
                            linearGradient: {
                            x1: 0,
                            x2: 0,
                            y1: 0,
                            y2: 1
                            },
                            stops: [
                            [0, color],
                            [1, color],
                            ]
                        },
                        shadow:false,
                    }
                $.each(selected_data.data,(k,v)=>{
                    series.data.push({
                                name: v[0],
                                y: v[1],
                                //drilldown: "Community Education"
                            })
                })
                return [series];
            }
            

            function show_drilldown_popup(data,data_name,color){
                Highcharts.chart('popup-chart-container', 
                $.extend( $.extend(true,bar_chart_config,
                {
                    chart:{
                    height: '600px'
                    },
                    yAxis: {
                        min: 0,
                        max: null,
                        minRange: null,
                    },
                }),
                {
                    series: generate_series_from_data(data,data_name,color),
                    // drilldown: bottom_middle_bar_chart_data,
                }))
                $('.chart-popup-bg').addClass('show')
            }
            $('.chart-popup-bg').on('click', ()=> {$('.chart-popup-bg').removeClass('show')})
  
  </script>


  <!--For left upper bar chart-->
  <script type="text/javascript">
    // Create the chart
    Highcharts.chart('left-upper-container',
    $.extend( $.extend(true,bar_chart_config,
    {
        chart:{
          //height: '255px'
        },
        plotOptions: {
            series: {
                point: {
                    events: {
                        click: function () {
                            console.log(this)
                            //alert('Category: ' + this.name + ', value: ' + this.y);
                            console.log(upper_left_chart_series[0].color.stops[0])
                            show_drilldown_popup(upper_left_bar_chart_data, this.name ,upper_left_chart_series[0].color.stops[0][1]);
                        }
                    }
                }
            }
        },
    }),
    {
        series: upper_left_chart_series,
        //drilldown: bottom_middle_bar_chart_data,
    }))
  </script>

  <!--For right upper bar chart-->
  <script type="text/javascript">
    // Create the chart
    Highcharts.chart('right-upper-container', 
    $.extend( $.extend(true,bar_chart_config,
    {
        chart:{
          //height: '255px'
        },
        plotOptions: {
            series: {
                point: {
                    events: {
                        click: function () {
                            console.log(this)
                            //alert('Category: ' + this.name + ', value: ' + this.y);
                            console.log(upper_right_chart_series[0].color.stops[0])
                            show_drilldown_popup(upper_right_bar_chart_data, this.name ,upper_right_chart_series[0].color.stops[0][1]);
                        }
                    }
                }
            }
        },
    }),
    {
        series: upper_right_chart_series,
        //drilldown: bottom_middle_bar_chart_data,
    }))
  </script>


  <!--For left bottom bar chart-->
  <script type="text/javascript">
    // Create the chart
    Highcharts.chart('left-bottom-container', 
    $.extend( $.extend(true,bar_chart_config,
    {
        chart:{
          //height: '255px'
        },
        plotOptions: {
            series: {
                point: {
                    events: {
                        click: function () {
                            console.log(this)
                            //alert('Category: ' + this.name + ', value: ' + this.y);
                            console.log(bottom_left_chart_series[0].color.stops[0])
                            show_drilldown_popup(bottom_left_bar_chart_data, this.name ,bottom_left_chart_series[0].color.stops[0][1]);
                        }
                    }
                }
            }
        },
    }),
    {
        series: bottom_left_chart_series,
        //drilldown: bottom_middle_bar_chart_data,
    }))
  </script>

  <!--For right bottom bar chart-->
  <script type="text/javascript">
    // Create the chart
    Highcharts.chart('right-bottom-container', 
    $.extend( $.extend(true,bar_chart_config,
    {
        chart:{
          //height: '255px'
        },
        plotOptions: {
            series: {
                point: {
                    events: {
                        click: function () {
                            console.log(this)
                            //alert('Category: ' + this.name + ', value: ' + this.y);
                            console.log(bottom_right_chart_series[0].color.stops[0])
                            show_drilldown_popup(bottom_right_bar_chart_data, this.name ,bottom_right_chart_series[0].color.stops[0][1]);
                        }
                    }
                }
            }
        },
    }),
    {
        series: bottom_right_chart_series,
        //drilldown: bottom_middle_bar_chart_data,
    }))
  </script>
  
  <!--For middle bottom bar chart-->
  <script type="text/javascript">
    // Create the chart
    Highcharts.chart('middle-bottom-container', 
    
    $.extend( $.extend(true,bar_chart_config,
    {
        chart:{
          //height: '255px'
        },
        plotOptions: {
            series: {
                point: {
                    events: {
                        click: function () {
                            console.log(this)
                            //alert('Category: ' + this.name + ', value: ' + this.y);
                            console.log(bottom_middle_chart_series[0].color.stops[0])
                            show_drilldown_popup(bottom_middle_bar_chart_data, this.name ,bottom_middle_chart_series[0].color.stops[0][1]);
                        }
                    }
                }
            }
        },
    }),
    {
        series: bottom_middle_chart_series,
        //drilldown: bottom_middle_bar_chart_data,
    }))
  </script>




</body>
</html>